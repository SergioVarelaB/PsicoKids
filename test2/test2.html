<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
    <meta name="author" content="Darko Bunic" />
    <meta name="description" content="Drag and drop table content with JavaScript" />
    <link rel="stylesheet" href="style.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allan">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Permanent+Marker" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script type="text/javascript" src="../drag.js"></script>
    <!-- initialize drag and drop -->
    <script type="text/javascript">
        // reference to the REDIPS.drag lib (global variable)
        var rd = REDIPS.drag;

        // startup 
        window.onload = function() {
            // initialization
            rd.init();
            // "moved" event handler uses reference of the moved element
            rd.myhandler_moved = function() {
                    set_drop_option(rd.obj);
                }
                // "cloned" event handler uses reference of the source element (not cloned element)
            rd.myhandler_cloned = function() {
                set_drop_option(rd.obj_old);
            }
        }

        // set drop option regarding to the table where DIV element belongs
        function set_drop_option(el) {
            // loop up until found table
            while (el && el.nodeName !== 'TABLE') {
                el = el.parentNode;
            }
            // loop ends and "el" position should be table
            if (el.id === 'table1') {
                rd.drop_option = 'switching';
            } else {
                rd.drop_option = 'single';
            }
        }

        var colores = Array(8);

        function respuestas() {
            var color = '';
            for (i = 0; i < 8; i++) {
                var pos = document.getElementById(i);
                if (pos.firstChild) color = pos.firstChild.id;
                colores[i] = color;
            }
        }

        function resultado() {
            respuestas();
            colores.forEach(element => {
                console.log(element);
            });
        }
    </script>
    <style>
        .body {
            background: aqua;
        }
    </style>

    <title>Test 2</title>
</head>

<body class="fondoPirulino">

    <br>
    <br>
    <br>
    <div id="wrapper">
        <div class="overlay"></div>
        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <h1 class="page-header font_5 " style="left: 50%; text-align: center;">Test 2</h1>
                        <div style="position: absolute; top: 0px; width: calc(100% - 0px); height: 100%; overflow: hidden; pointer-events: auto; min-width: 980px; left: 0px; right: 0px; bottom: 0px;" data-page-id="c1dmp" data-enable-video="true" data-bg-effect-name="" data-full-screen-height=""
                            data-media-type="" data-use-clip-path="" data-needs-clipping="" data-wix-video-layout="true" class="strc1balata" id="comp-ju6pgrlobalata">
                            <div style="position:absolute;width:100%;height:100%;top:0;background-color:transparent" class="bgColor" id="comp-ju6pgrlobalatabgcolor">
                                <div style="width:100%;height:100%;position:absolute;top:0;opacity:1" id="comp-ju6pgrlobalatabgcoloroverlay" class="bgColoroverlay"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="main_container" style="width: max-content;">
        <h2 style="text-align: center; color: black; width: fit-content;">R O S E N C O L O R T E S T</h2>
        <!-- tables inside this DIV could have draggable content -->
        <div id="drag">
            <div id="message">Acomoda los colores del que mas te guste al que menos te guste</div>
            <!-- left container -->
            <br>
            <br>
            <div id="left">
                <table id="table1">
                    <colgroup>
                        <col width="200" />
                    </colgroup>
                    <tbody>
                        <tr>
                            <td id="0"></td>
                        </tr>
                        <tr>
                            <td id="1"></td>
                        </tr>
                        <tr>
                            <td id="2"></td>
                        </tr>
                        <tr>
                            <td id="3"></td>
                        </tr>
                        <tr>
                            <td id="4"></td>
                        </tr>
                        <tr>
                            <td id="5"></td>
                        </tr>
                        <tr>
                            <td id="6"></td>
                        </tr>
                        <tr>
                            <td id="7"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- left container -->

            <!-- right container -->
            <div id="right">
                <table id="table2">
                    <colgroup>
                        <col width="200" />
                    </colgroup>
                    <tbody>
                        <!-- clone 2 elements + last element -->
                        <tr>
                            <td class="mark">
                                <div id="gris" class="drag gris"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="mark">
                                <div id="morado" class="drag morado"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="mark">
                                <div id="verde" class="drag verde"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="mark">
                                <div id="rojo" class="drag rojo"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="mark">
                                <div id="marron" class="drag marron"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="mark">
                                <div id="negro" class="drag negro"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="mark">
                                <div id="amarillo" class="drag amarillo"></div>
                            </td>
                        </tr>
                        <tr class="">
                            <td class="mark" style="">
                                <div id="azul" class="drag azul" style="cursor: move; z-index: 10; position: static; left: 0px; top: 0px;"></div>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- right container -->
        </div>
        <!-- drag container -->
    </div>
    <!-- main container -->
    <br>
    <br>
    <div style="margin-left: 40%;">
        <button onclick="resultado()">Resultados del test</button>
        <button><a href="../test3.html">Continuar con el siguiente</a></button>
    </div>
</body>

</html>